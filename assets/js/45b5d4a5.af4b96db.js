"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3607],{63881:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"networking","title":"Networking","description":"All server-client communication is handled through the GetRemote module. It returns a Remote object \u2014 a unified wrapper around RemoteEvent, UnreliableRemoteEvent, and RemoteFunction that automatically creates the underlying instances on demand and routes calls by context.","source":"@site/docs/networking.md","sourceDirName":".","slug":"/networking","permalink":"/order/docs/networking","draft":false,"unlisted":false,"editUrl":"https://github.com/michaeldougal/framework/edit/master/docs/networking.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Networking"},"sidebar":"defaultSidebar","previous":{"title":"AtomicUI","permalink":"/order/docs/atomicui"},"next":{"title":"Special Notes","permalink":"/order/docs/notes"}}');var i=r(74848),l=r(28453);const a={sidebar_position:4,title:"Networking"},s="Networking with GetRemote",o={},c=[{value:"Firing events",id:"firing-events",level:2},{value:"Server \u2192 Client",id:"server--client",level:3},{value:"Client \u2192 Server",id:"client--server",level:3},{value:"Context-agnostic firing",id:"context-agnostic-firing",level:3},{value:"Listening for events",id:"listening-for-events",level:2},{value:"Rate limiting",id:"rate-limiting",level:3},{value:"Unreliable events",id:"unreliable-events",level:2},{value:"Remote functions (invoke/callback)",id:"remote-functions-invokecallback",level:2},{value:"Client invokes the server",id:"client-invokes-the-server",level:3},{value:"Server invokes a client",id:"server-invokes-a-client",level:3},{value:"Context-agnostic invoke",id:"context-agnostic-invoke",level:3},{value:"Recommended patterns",id:"recommended-patterns",level:2},{value:"Dedicated remote per feature",id:"dedicated-remote-per-feature",level:3},{value:"Validating client input on the server",id:"validating-client-input-on-the-server",level:3},{value:"Sharing the remote reference",id:"sharing-the-remote-reference",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"networking-with-getremote",children:"Networking with GetRemote"})}),"\n",(0,i.jsxs)(n.p,{children:["All server-client communication is handled through the ",(0,i.jsx)(n.code,{children:"GetRemote"})," module. It returns a ",(0,i.jsx)(n.a,{href:"/api/Remote",children:(0,i.jsx)(n.code,{children:"Remote"})})," object \u2014 a unified wrapper around ",(0,i.jsx)(n.code,{children:"RemoteEvent"}),", ",(0,i.jsx)(n.code,{children:"UnreliableRemoteEvent"}),", and ",(0,i.jsx)(n.code,{children:"RemoteFunction"})," that automatically creates the underlying instances on demand and routes calls by context."]}),"\n",(0,i.jsxs)(n.p,{children:["You never need to manually create or locate remote instances in ",(0,i.jsx)(n.code,{children:"ReplicatedStorage"}),". Just call ",(0,i.jsx)(n.code,{children:"GetRemote"})," with a name from either side and use it."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local GetRemote = shared("GetRemote") ---@module GetRemote\r\n\r\nlocal MyRemote = GetRemote("MyRemote")\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The same name resolves to the same ",(0,i.jsx)(n.code,{children:"Remote"})," object throughout the session, so repeated calls with the same name are safe and return the same instance."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"firing-events",children:"Firing events"}),"\n",(0,i.jsx)(n.h3,{id:"server--client",children:"Server \u2192 Client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Fire to one player\r\nMyRemote:FireClient(player, "Hello!")\r\n\r\n-- Fire to a list of players\r\nMyRemote:FireClientList({ player1, player2 }, "Hello!")\r\n\r\n-- Fire to all players\r\nMyRemote:FireAllClients("Hello, everyone!")\r\n\r\n-- Fire to all players except one\r\nMyRemote:FireAllExcept(player, "Everyone but you!")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"client--server",children:"Client \u2192 Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'MyRemote:FireServer("Hello, server!")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"context-agnostic-firing",children:"Context-agnostic firing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:":Fire()"})," routes automatically \u2014 it calls ",(0,i.jsx)(n.code,{children:":FireServer()"})," from the client or ",(0,i.jsx)(n.code,{children:":FireAllClients()"})," from the server:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'MyRemote:Fire("Hello!")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"listening-for-events",children:"Listening for events"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:":OnEvent()"})," also routes automatically \u2014 it connects to ",(0,i.jsx)(n.code,{children:"OnServerEvent"})," on the server and ",(0,i.jsx)(n.code,{children:"OnClientEvent"})," on the client. The server callback receives the firing player as the first argument."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Server\r\nMyRemote:OnEvent(function(player, message)\r\n    print(player.Name, "says:", message)\r\nend)\r\n\r\n-- Client\r\nMyRemote:OnEvent(function(message)\r\n    print("Server says:", message)\r\nend)\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"OnServerEvent"})," and ",(0,i.jsx)(n.code,{children:"OnClientEvent"})," are aliases for ",(0,i.jsx)(n.code,{children:":OnEvent()"})," and can be used for clarity."]}),"\n",(0,i.jsx)(n.h3,{id:"rate-limiting",children:"Rate limiting"}),"\n",(0,i.jsxs)(n.p,{children:["Pass a ",(0,i.jsx)(n.code,{children:"rateLimitInterval"})," (in seconds) as the second argument to avoid processing bursts of events. Only the latest arguments received within the interval will be processed:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"MyRemote:OnEvent(function(player, value)\r\n    -- processes at most once per 0.1 seconds per callback\r\n    updateHealthBar(value)\r\nend, 0.1)\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Rate limiting drops intermediate events \u2014 only the most recent arguments within the interval are kept. Avoid this for events where every individual fire must be processed."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"unreliable-events",children:"Unreliable events"}),"\n",(0,i.jsxs)(n.p,{children:["For high-frequency data where occasional packet loss is acceptable (e.g. position updates, visual effects), use the unreliable variants. These use ",(0,i.jsx)(n.code,{children:"UnreliableRemoteEvent"})," under the hood and have lower overhead."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Server \u2192 Client\r\nMyRemote:FireClientUnreliable(player, position)\r\nMyRemote:FireAllClientsUnreliable(position)\r\n\r\n-- Client \u2192 Server\r\nMyRemote:FireServerUnreliable(position)\r\n\r\n-- Context-agnostic\r\nMyRemote:FireUnreliable(position)\r\n\r\n-- Listening\r\nMyRemote:OnUnreliableEvent(function(player, position)\r\n    updateMarker(player, position)\r\nend)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"FireClientFast"}),", ",(0,i.jsx)(n.code,{children:"FireServerFast"}),", ",(0,i.jsx)(n.code,{children:"FireFast"}),", and ",(0,i.jsx)(n.code,{children:"OnServerUnreliableEvent"}),"/",(0,i.jsx)(n.code,{children:"OnClientUnreliableEvent"})," are all aliases for their unreliable counterparts."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"remote-functions-invokecallback",children:"Remote functions (invoke/callback)"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"OnInvoke"})," to register a handler and ",(0,i.jsx)(n.code,{children:":Invoke()"})," or ",(0,i.jsx)(n.code,{children:":InvokeServer()"})," / ",(0,i.jsx)(n.code,{children:":InvokeClient()"})," to call it and wait for a return value."]}),"\n",(0,i.jsx)(n.h3,{id:"client-invokes-the-server",children:"Client invokes the server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Server \u2014 register the handler\r\nMyRemote:OnInvoke(function(player, request)\r\n    if request == "getData" then\r\n        return { score = 100 }\r\n    end\r\nend)\r\n\r\n-- Client \u2014 invoke and await result\r\nlocal data = MyRemote:InvokeServer("getData")\r\nprint(data.score) --\x3e 100\n'})}),"\n",(0,i.jsx)(n.h3,{id:"server-invokes-a-client",children:"Server invokes a client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Client \u2014 register the handler\r\nMyRemote:OnInvoke(function(request)\r\n    return UserInputService:GetLastInputType().Name\r\nend)\r\n\r\n-- Server \u2014 invoke a specific player and await result\r\nlocal inputType = MyRemote:InvokeClient(player, "getInput")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"context-agnostic-invoke",children:"Context-agnostic invoke"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:":Invoke()"})," routes automatically. When called from the client it invokes the server; when called from the server the first argument must be the target ",(0,i.jsx)(n.code,{children:"Player"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- From client\r\nlocal result = MyRemote:Invoke("getData")\r\n\r\n-- From server\r\nlocal result = MyRemote:Invoke(player, "getData")\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Invoking a client from the server can hang indefinitely if the client disconnects or never responds. Prefer firing events with a follow-up callback pattern for server-initiated requests where possible."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"recommended-patterns",children:"Recommended patterns"}),"\n",(0,i.jsx)(n.h3,{id:"dedicated-remote-per-feature",children:"Dedicated remote per feature"}),"\n",(0,i.jsx)(n.p,{children:"Create one remote per logical feature rather than multiplexing many actions over a single remote. This keeps handlers focused and makes debugging easier."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- inventory.server.luau\r\nlocal InventoryRemote = GetRemote("Inventory")\r\n\r\nInventoryRemote:OnEvent(function(player, action, itemId)\r\n    if action == "equip" then\r\n        equipItem(player, itemId)\r\n    elseif action == "drop" then\r\n        dropItem(player, itemId)\r\n    end\r\nend)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"validating-client-input-on-the-server",children:"Validating client input on the server"}),"\n",(0,i.jsx)(n.p,{children:"Never trust data sent from the client. Always validate before acting on it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'InventoryRemote:OnEvent(function(player, action, itemId)\r\n    if typeof(itemId) ~= "number" then return end\r\n    if not playerOwnsItem(player, itemId) then return end\r\n\r\n    equipItem(player, itemId)\r\nend)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sharing-the-remote-reference",children:"Sharing the remote reference"}),"\n",(0,i.jsxs)(n.p,{children:["Since ",(0,i.jsx)(n.code,{children:"GetRemote"})," returns the same object for a given name everywhere, you can safely call it in both a server script and a client script using the same name string \u2014 no shared module or passing of references is needed."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- myFeature.server.luau\r\nlocal MyRemote = GetRemote("MyFeature")\r\n\r\n-- myFeature.client.luau\r\nlocal MyRemote = GetRemote("MyFeature") -- same underlying remote\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>s});var t=r(96540);const i={},l=t.createContext(i);function a(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);