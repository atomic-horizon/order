"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5722],{70060:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"usage","title":"Usage","description":"Settings","source":"@site/docs/usage.md","sourceDirName":".","slug":"/usage","permalink":"/order/docs/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/michaeldougal/framework/edit/master/docs/usage.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Usage"},"sidebar":"defaultSidebar","previous":{"title":"Getting Started","permalink":"/order/docs/intro"},"next":{"title":"AtomicUI","permalink":"/order/docs/atomicui"}}');var n=r(74848),s=r(28453);const o={sidebar_position:2,title:"Usage"},a="Usage",d={},l=[{value:"Settings",id:"settings",level:2},{value:"File structure",id:"file-structure",level:2},{value:"Tasks",id:"tasks",level:3},{value:"Priorities",id:"priorities",level:4},{value:"Initialization functions and synchronization",id:"initialization-functions-and-synchronization",level:4},{value:"Example",id:"example",level:4},{value:"Everything else",id:"everything-else",level:3},{value:"File paths",id:"file-paths",level:3},{value:"Loading dependencies",id:"loading-dependencies",level:2},{value:"Supporting modules from other frameworks",id:"supporting-modules-from-other-frameworks",level:3}];function c(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"usage",children:"Usage"})}),"\n",(0,n.jsx)(i.h2,{id:"settings",children:"Settings"}),"\n",(0,n.jsxs)(i.p,{children:["The framework settings module (located at ",(0,n.jsx)(i.code,{children:"src/framework/Settings.luau"}),") has a few different options that developers can customize for their projects."]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Setting"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Debug.CyclicAnalysis"})}),(0,n.jsxs)(i.td,{children:["When ",(0,n.jsx)(i.code,{children:"true"}),", tracks cyclic dependency chains across the project and prints an analysis after initialization completes."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Debug.VerboseLoading"})}),(0,n.jsxs)(i.td,{children:["When ",(0,n.jsx)(i.code,{children:"true"}),", prints detailed information during initialization: discovered modules, the resolved load order, and when each module finishes."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"SilentMode"})}),(0,n.jsxs)(i.td,{children:["When ",(0,n.jsx)(i.code,{children:"true"}),", suppresses all regular output (version info, initialization notices, etc.). Warnings are never suppressed. Defaults to ",(0,n.jsx)(i.code,{children:"false"})," in Studio and ",(0,n.jsx)(i.code,{children:"true"})," in production."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"InitOrder"})}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:'"Project"'})," runs each initializer across all tasks before moving to the next. ",(0,n.jsx)(i.code,{children:'"Individual"'})," runs all initializers on each task before moving to the next task. Both modes respect priority values."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"InitFunctionConfig"})}),(0,n.jsx)(i.td,{children:"A table defining the initialization functions for the project and their options (name, async, protected, warn delay)."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"PlaceTypes"})}),(0,n.jsxs)(i.td,{children:["Maps Place IDs to named place type strings. Unrecognized places default to ",(0,n.jsx)(i.code,{children:'"Generic"'}),". The active type is accessible at runtime via ",(0,n.jsx)(i.code,{children:"shared.PlaceType"}),"."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"CodeGroups"})}),(0,n.jsx)(i.td,{children:"Maps place type names to the set of code group root directories that should be active for that type. Enables selectively sharing modules across different server types (e.g. lobby vs. game server)."})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"file-structure",children:"File structure"}),"\n",(0,n.jsx)(i.h3,{id:"tasks",children:"Tasks"}),"\n",(0,n.jsxs)(i.p,{children:["Tasks are modules that have code intended for immediate execution at runtime. Tasks should be placed in the ",(0,n.jsx)(i.code,{children:"tasks"})," folder of the appropriate context."]}),"\n",(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsxs)(i.p,{children:["Any module that is placed inside the ",(0,n.jsx)(i.code,{children:"tasks"})," folder will be loaded by default, even if no initialization function exists within it or if it isn't even a table. All other modules are loaded only as requested."]})}),"\n",(0,n.jsx)(i.h4,{id:"priorities",children:"Priorities"}),"\n",(0,n.jsxs)(i.p,{children:["If you wish to give a task priority during the initialization phase, set a ",(0,n.jsx)(i.code,{children:"Priority"})," key in the main module table to the priority level you would like (higher values load first, negative values load last). Setting a priority is optional - if you don't set one, the task will be set to priority 0 by default."]}),"\n",(0,n.jsx)(i.admonition,{type:"warning",children:(0,n.jsx)(i.p,{children:"Tasks with priorities are still initialized asynchronously, so if the task yields during initialization there is no guarantee that it will finish before a lower priority task starts initializing. Tasks with the same priority are initialized in an arbitrary order."})}),"\n",(0,n.jsx)(i.h4,{id:"initialization-functions-and-synchronization",children:"Initialization functions and synchronization"}),"\n",(0,n.jsxs)(i.p,{children:["In the default configuration, tasks can place their code to execute into two initialization functions: ",(0,n.jsx)(i.code,{children:":Prep()"})," and ",(0,n.jsx)(i.code,{children:":Init()"}),". ",(0,n.jsx)(i.code,{children:":Prep()"})," comes first and is synchronous, and then ",(0,n.jsx)(i.code,{children:":Init()"})," comes after and is asynchronous. Tasks are not required to have either, and are allowed to define their own initialization functions if desired. These can be defined by placing a table called ",(0,n.jsx)(i.code,{children:"InitConfigOverride"})," in the module table, following the same structure as is found for ",(0,n.jsx)(i.code,{children:"InitFunctionConfig"})," in the ",(0,n.jsx)(i.code,{children:"Settings.luau"})," file of the framework folder."]}),"\n",(0,n.jsx)(i.h4,{id:"example",children:"Example"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local NewTask = {\r\n    Priority = 5,\r\n}\r\n\r\nfunction NewTask:Prep()\r\n    print("Task is prepped.")\r\nend\r\n\r\nfunction NewTask:Init()\r\n\tprint("Task is running!")\r\nend\r\n\r\nreturn NewTask\n'})}),"\n",(0,n.jsx)(i.h3,{id:"everything-else",children:"Everything else"}),"\n",(0,n.jsxs)(i.p,{children:["All other modules can be placed in the provided ",(0,n.jsx)(i.code,{children:"lib"})," folder, or any other custom folders that you create."]}),"\n",(0,n.jsx)(i.h3,{id:"file-paths",children:"File paths"}),"\n",(0,n.jsx)(i.p,{children:"There are five top-level directories by default:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"character"})," - StarterPlayer.StarterCharacterScripts"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"client"})," - StarterPlayer.StarterPlayerScripts"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"first"})," - ReplicatedFirst"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"server"})," - ServerScriptService"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"shared"})," - ReplicatedStorage.Shared"]}),"\n"]}),"\n",(0,n.jsx)(i.admonition,{type:"note",children:(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"first"})," and ",(0,n.jsx)(i.code,{children:"character"})," are not scanned for task modules, as it is assumed that developers will simply use LocalScripts/Scripts instead. If you wish to add tasks there, you may add custom support at the end of the main framework module. For Rojo users, further file path customization can be configured in the ",(0,n.jsx)(i.code,{children:"default.project.json"})," file."]})}),"\n",(0,n.jsx)(i.h2,{id:"loading-dependencies",children:"Loading dependencies"}),"\n",(0,n.jsxs)(i.p,{children:["Order makes use of the ",(0,n.jsx)(i.code,{children:"shared"})," global variable to load dependencies. In code, this takes the place of the usual ",(0,n.jsx)(i.code,{children:"require"})," keyword. This function can take either a string of the module's name, a string of a partial or complete path to the module, or a direct object reference to a ModuleScript.\r\nValid examples:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared("GetRemote")\n'})}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared("lib/GetRemote")\n'})}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared(game:GetService("ReplicatedStorage").Shared.core.lib.GetRemote)\n'})}),"\n",(0,n.jsx)(i.admonition,{type:"warning",children:(0,n.jsx)(i.p,{children:"When two or more modules exist with the same name or partial path, Order will warn you that it found multiple modules for your request, and will ask you to be more specific. You can use any level of the module paths it provides you with, as long as it is unique."})}),"\n",(0,n.jsxs)(i.p,{children:["The Order module itself can also be used instead of ",(0,n.jsx)(i.code,{children:"shared"})," if you have other uses for that keyword, want to avoid globals like the plague, or are running in portable mode. For example:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local require = require(game:GetService("ReplicatedStorage").Order)\n'})}),"\n",(0,n.jsx)(i.h3,{id:"supporting-modules-from-other-frameworks",children:"Supporting modules from other frameworks"}),"\n",(0,n.jsxs)(i.p,{children:["If you would like to import a module from another framework that uses ",(0,n.jsx)(i.code,{children:"require"})," to load dependencies (such as Nevermore), simply redirect ",(0,n.jsx)(i.code,{children:"require"})," to ",(0,n.jsx)(i.code,{children:"shared"}),":"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:"local require = shared\n"})}),"\n",(0,n.jsx)(i.p,{children:"Or, alternatively, you can redirect their require call to the main Order module:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lua",children:'local require = require(game:GetService("ReplicatedStorage").Order)\n'})}),"\n",(0,n.jsx)(i.p,{children:"Also be sure to update your initializer configuration to support the module's intended initialization procedure (or adapt it to Order's, if preferred.)"})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,i,r)=>{r.d(i,{R:()=>o,x:()=>a});var t=r(96540);const n={},s=t.createContext(n);function o(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);