"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[214],{44164:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"setup","title":"Usage","description":"Settings","source":"@site/docs/setup.md","sourceDirName":".","slug":"/setup","permalink":"/order/docs/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/michaeldougal/framework/edit/master/docs/setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Usage"},"sidebar":"defaultSidebar","previous":{"title":"Getting Started","permalink":"/order/docs/gettingstarted"},"next":{"title":"Special Notes","permalink":"/order/docs/notes"}}');var r=t(74848),s=t(28453);const o={sidebar_position:3,title:"Usage"},a="Usage",l={},d=[{value:"Settings",id:"settings",level:2},{value:"File structure",id:"file-structure",level:2},{value:"Tasks",id:"tasks",level:3},{value:"Priorities",id:"priorities",level:4},{value:"Initialization functions and synchronization",id:"initialization-functions-and-synchronization",level:4},{value:"Example",id:"example",level:4},{value:"Everything else",id:"everything-else",level:3},{value:"File paths",id:"file-paths",level:3},{value:"Loading dependencies",id:"loading-dependencies",level:2},{value:"Supporting modules from other frameworks",id:"supporting-modules-from-other-frameworks",level:3}];function c(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"usage",children:"Usage"})}),"\n",(0,r.jsx)(i.h2,{id:"settings",children:"Settings"}),"\n",(0,r.jsxs)(i.p,{children:["The framework settings module (located at ",(0,r.jsx)(i.code,{children:"src/framework/Settings.luau"}),") has a few different options that developers can customize for their projects."]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Debug.CyclicAnalysis"})," - When set to ",(0,r.jsx)(i.code,{children:"true"})," this will track the different cyclic dependencies that exist within the project and will print out an analysis following project initialization."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Debug.VerboseLoading"})," - When set to ",(0,r.jsx)(i.code,{children:"true"})," this will print out information as the initialization process executes, such as which modules have been discovered, what the initialization order is, and when each module finishes initializing."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SilentMode"})," - When set to ",(0,r.jsx)(i.code,{children:"true"})," this will disable all regular output (version printing, notifications about when initialization has finished, etc.) This will not disable warnings. By default this is turned off during Studio development, and turned on for production."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"InitOrder"})," - Can be set to either ",(0,r.jsx)(i.code,{children:'"Project"'})," or ",(0,r.jsx)(i.code,{children:'"Individual"'}),". Project means that each initialization function will be run on every task before moving on to the next initialization function. Individual means that each task will run through each of its initialization functions before moving on to the next task. Both settings respect module priority values."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"InitFunctionConfig"})," - A table that defines the initialization functions for the project and their options."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PlaceTypes"}),' - A table that defines the different types for each place within the game universe. If a place type is not specified for the current place ID, it will default to "Generic". The place type is accessible in project code via ',(0,r.jsx)(i.code,{children:"shared.PlaceType"})," for more custom place-specific behavior."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"CodeGroups"})," - A table that defines the different code groups for the project and their corresponding root directory names. Each code group's name should correspond directly to a defined place type. This allows you to selectively share code between different server types (ex. having a single player data module for the lobby, the game server, etc.)"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"file-structure",children:"File structure"}),"\n",(0,r.jsx)(i.h3,{id:"tasks",children:"Tasks"}),"\n",(0,r.jsxs)(i.p,{children:["Tasks are modules that have code intended for immediate execution at runtime. Tasks should be placed in the ",(0,r.jsx)(i.code,{children:"tasks"})," folder of the appropriate context."]}),"\n",(0,r.jsx)(i.admonition,{type:"info",children:(0,r.jsxs)(i.p,{children:["Any module that is placed inside the ",(0,r.jsx)(i.code,{children:"tasks"})," folder will be loaded by default, even if no initialization function exists within it or if it isn't even a table. All other modules are loaded only as requested."]})}),"\n",(0,r.jsx)(i.h4,{id:"priorities",children:"Priorities"}),"\n",(0,r.jsxs)(i.p,{children:["If you wish to give a task priority during the initialization phase, set a ",(0,r.jsx)(i.code,{children:"Priority"})," key in the main module table to the priority level you would like (higher values load first, negative values load last). Setting a priority is optional - if you don't set one, the task will be set to priority 0 by default."]}),"\n",(0,r.jsx)(i.admonition,{type:"warning",children:(0,r.jsx)(i.p,{children:"Tasks with priorities are still initialized asynchronously, so if the task yields during initialization there is no guarantee that it will finish before a lower priority task starts initializing. Tasks with the same priority are initialized in an arbitrary order."})}),"\n",(0,r.jsx)(i.h4,{id:"initialization-functions-and-synchronization",children:"Initialization functions and synchronization"}),"\n",(0,r.jsxs)(i.p,{children:["In the default configuration, tasks can place their code to execute into two initialization functions: ",(0,r.jsx)(i.code,{children:":Prep()"})," and ",(0,r.jsx)(i.code,{children:":Init()"}),". ",(0,r.jsx)(i.code,{children:":Prep()"})," comes first and is synchronous, and then ",(0,r.jsx)(i.code,{children:":Init()"})," comes after and is asynchronous. Tasks are not required to have either, and are allowed to define their own initialization functions if desired. These can be defined by placing a table called ",(0,r.jsx)(i.code,{children:"InitConfigOverride"})," in the module table, following the same structure as is found for ",(0,r.jsx)(i.code,{children:"InitFunctionConfig"})," in the ",(0,r.jsx)(i.code,{children:"Settings.luau"})," file of the framework folder."]}),"\n",(0,r.jsx)(i.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local NewTask = {\r\n    Priority = 5,\r\n}\r\n\r\nfunction NewTask:Prep()\r\n    print("Task is prepped.")\r\nend\r\ns\r\nfunction NewTask:Init()\r\n\tprint("Task is running!")\r\nend\r\n\r\nreturn NewTask\n'})}),"\n",(0,r.jsx)(i.h3,{id:"everything-else",children:"Everything else"}),"\n",(0,r.jsxs)(i.p,{children:["All other modules can be placed in the provided ",(0,r.jsx)(i.code,{children:"lib"})," folder, or any other custom folders that you create."]}),"\n",(0,r.jsx)(i.h3,{id:"file-paths",children:"File paths"}),"\n",(0,r.jsx)(i.p,{children:"There are five top-level directories by default:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"character"})," - StarterPlayer.StarterCharacterScripts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"client"})," - StarterPlayer.StarterPlayerScripts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"first"})," - ReplicatedFirst"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"server"})," - ServerScriptService"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"shared"})," - ReplicatedStorage.Shared"]}),"\n"]}),"\n",(0,r.jsx)(i.admonition,{type:"note",children:(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"first"})," and ",(0,r.jsx)(i.code,{children:"character"})," are not scanned for task modules, as it is assumed that developers will simply use LocalScripts/Scripts instead. If you wish to add tasks there, you may add custom support at the end of the main framework module. For Rojo users, further file path customization can be configured in the ",(0,r.jsx)(i.code,{children:"default.project.json"})," file."]})}),"\n",(0,r.jsx)(i.h2,{id:"loading-dependencies",children:"Loading dependencies"}),"\n",(0,r.jsxs)(i.p,{children:["Order makes use of the ",(0,r.jsx)(i.code,{children:"shared"})," global variable to load dependencies. In code, this takes the place of the usual ",(0,r.jsx)(i.code,{children:"require"})," keyword. This function can take either a string of the module's name, a string of a partial or complete path to the module, or a direct object reference to a ModuleScript.\r\nValid examples:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared("GetRemote")\n'})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared("lib/GetRemote")\n'})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local GetRemote = shared(game:GetService("ReplicatedStorage").Shared.core.lib.GetRemote)\n'})}),"\n",(0,r.jsx)(i.admonition,{type:"warning",children:(0,r.jsx)(i.p,{children:"When two or more modules exist with the same name or partial path, Order will warn you that it found multiple modules for your request, and will ask you to be more specific. You can use any level of the module paths it provides you with, as long as it is unique."})}),"\n",(0,r.jsxs)(i.p,{children:["The Order module itself can also be used instead of ",(0,r.jsx)(i.code,{children:"shared"})," if you have other uses for that keyword, want to avoid globals like the plague, or are running in portable mode. For example:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local require = require(game:GetService("ReplicatedStorage").Order)\n'})}),"\n",(0,r.jsx)(i.h3,{id:"supporting-modules-from-other-frameworks",children:"Supporting modules from other frameworks"}),"\n",(0,r.jsxs)(i.p,{children:["If you would like to import a module from another framework that uses ",(0,r.jsx)(i.code,{children:"require"})," to load dependencies (such as Nevermore), simply redirect ",(0,r.jsx)(i.code,{children:"require"})," to ",(0,r.jsx)(i.code,{children:"shared"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"local require = shared\n"})}),"\n",(0,r.jsx)(i.p,{children:"Or, alternatively, you can redirect their require call to the main Order module:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'local require = require(game:GetService("ReplicatedStorage").Order)\n'})}),"\n",(0,r.jsx)(i.p,{children:"Also be sure to update your initializer configuration to support the module's intended initialization procedure (or adapt it to Order's, if preferred.)"})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>a});var n=t(96540);const r={},s=n.createContext(r);function o(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);